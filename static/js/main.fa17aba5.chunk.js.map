{"version":3,"sources":["Context.js","ButtonContainer.js","Display.js","App.js","index.js","reducer.js"],"names":["AppContext","React","createContext","initialState","calculated","currentNum","operator","encounteredError","AppProvider","children","useReducer","reducer","state","dispatch","Provider","value","captureClick","key","type","test","payload","useGlobalContext","useContext","labels","Map","ButtonContainer","keys","useEffect","document","addEventListener","e","includes","id","map","className","onClick","Display","parseFloat","Number","toFixed","App","href","target","rel","ReactDOM","render","StrictMode","getElementById","action","eval","evaluated","toString","squaredValue","Math","sqrt","slice","percentageVal","error"],"mappings":"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","file":"static/js/main.fa17aba5.chunk.js","sourcesContent":["import React, { useContext, useReducer } from \"react\";\r\nimport reducer from \"./reducer\";\r\n\r\nconst AppContext = React.createContext();\r\n//Provider, Consumer\r\n\r\nconst initialState = {\r\n  calculated: \"0\",\r\n  currentNum: \"\",\r\n  operator: \"\",\r\n  encounteredError: false,\r\n};\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const captureClick = (key) => {\r\n    //SPECIAL OPERTATORS\r\n    //________________________________________________\r\n    //HANDLE NEGATIVE/POSITIVE\r\n    if (key === \"+/-\") {\r\n      return dispatch({ type: \"TOGGLE_POSITIVE_NEGATIVE\" });\r\n    }\r\n\r\n    //handle AC button\r\n    if (key === \"AC\") {\r\n      return dispatch({ type: \"CLEAR_DISPLAY\" });\r\n    }\r\n    // HANDLE EQUAL(=) BUTTON\r\n    if (key === \"=\") {\r\n      //null has to be tackled\r\n      return dispatch({ type: \"EQUAL_SIGN\" });\r\n    }\r\n\r\n    //HANDLE DECIMAL BUTTON\r\n    if (key === \".\") {\r\n      return dispatch({ type: \"DECIMAL_CAPTURED\" });\r\n    }\r\n\r\n    //HANDLE BACKSPACE\r\n    if (key === \"←\") {\r\n      return dispatch({ type: \"DELETE_LAST_ENTERED_VALUE\" });\r\n    }\r\n\r\n    //HANDLE ROOT\r\n    if (key === \"√n\") {\r\n      return dispatch({ type: \"ROOT\" });\r\n    }\r\n\r\n    //HANDLE PERCENTAGE\r\n    if (key === \"%\") {\r\n      return dispatch({ type: \"PERCENTAGE\" });\r\n    }\r\n\r\n    if (key === \"xʸ\") {\r\n      return dispatch({ type: \"POWER\" });\r\n    }\r\n\r\n    //________________________________________________________________\r\n\r\n    //handle numbers\r\n\r\n    let numReg = /[0-9]/;\r\n    let isNum = numReg.test(key);\r\n    if (isNum) {\r\n      return dispatch({ type: \"NUMBER_CAPTURED\", payload: key });\r\n    }\r\n\r\n    //handle basic operators\r\n    let operatorReg = /[-+X÷]/;\r\n    let isOperator = operatorReg.test(key);\r\n\r\n    if (isOperator) {\r\n      return dispatch({ type: \"BASIC_OPERATOR_CAPTURED\", payload: key });\r\n    }\r\n\r\n    //////CODE BLOCK ENDS HERE\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider value={{ ...state, captureClick }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n","import React, { useEffect } from \"react\";\r\nimport { useGlobalContext } from \"./Context\";\r\n\r\nconst labels = new Map([\r\n  [\"AC\", \"clear\"],\r\n  [\"%\", \"percentage\"],\r\n  [\"←\", \"delete\"],\r\n  [\"xʸ\", \"power\"],\r\n  [\"√n\", \"root\"],\r\n  [\"÷\", \"divide\"],\r\n  [\"X\", \"multiply\"],\r\n  [\"7\", \"seven\"],\r\n  [\"8\", \"eight\"],\r\n  [\"9\", \"nine\"],\r\n  [\"-\", \"subtract\"],\r\n  [\"4\", \"four\"],\r\n  [\"5\", \"five\"],\r\n  [\"6\", \"six\"],\r\n  [\"+\", \"add\"],\r\n  [\"1\", \"one\"],\r\n  [\"2\", \"two\"],\r\n  [\"3\", \"three\"],\r\n  [\"=\", \"equals\"],\r\n  [\"+/-\", \"toggle\"],\r\n  [\"0\", \"zero\"],\r\n  [\".\", \"decimal\"],\r\n]);\r\n\r\nexport const ButtonContainer = () => {\r\n  const { captureClick } = useGlobalContext();\r\n\r\n  let keys = labels.keys();\r\n  keys = [...keys];\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      let key = e.key;\r\n\r\n      //changing certain key to make keyboard access smooth\r\n      key =\r\n        key === \"Enter\"\r\n          ? \"=\"\r\n          : key === \"*\"\r\n          ? \"X\"\r\n          : key === \"Backspace\"\r\n          ? \"←\"\r\n          : key;\r\n      //only call captureClick when it is fruitful.\r\n      if (keys.includes(key)) {\r\n        captureClick(key);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"buttonContainer\">\r\n      {[...labels].map(([key, value]) => (\r\n        <button\r\n          id={value}\r\n          key={value}\r\n          className=\"button\"\r\n          onClick={() => captureClick(key)}\r\n        >\r\n          {key}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useGlobalContext } from \"./Context\";\r\n\r\nexport const Display = () => {\r\n  let { calculated, currentNum, operator, encounteredError } =\r\n    useGlobalContext();\r\n\r\n  calculated = parseFloat(Number(calculated).toFixed(5));\r\n  return (\r\n    <div id=\"full-display\">\r\n      <div className=\"calculated\">\r\n        {encounteredError ? \"BAD EXPRESSION \" : calculated}\r\n      </div>\r\n      <div id=\"display\" className=\"display-muted\">\r\n        {encounteredError\r\n          ? \"press AC button\"\r\n          : `${\r\n              operator === \"*\" ? \"X\" : operator === \"/\" ? \"÷\" : operator ?? \"\"\r\n            } ${\r\n              currentNum === \"\" && operator\r\n                ? \"\"\r\n                : currentNum === \"\"\r\n                ? 0\r\n                : currentNum\r\n            }`}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import \"./ButtonContainer\";\nimport \"./Display\";\nimport { ButtonContainer } from \"./ButtonContainer\";\nimport { Display } from \"./Display\";\n\nfunction App() {\n  return (\n    <div>\n      <main id=\"calculator\">\n        <Display />\n        <ButtonContainer />\n      </main>\n      <p className=\"source-link\">\n        <p>Designed by Chandan Roy</p>\n        <a\n          href=\"https://github.com/croy47/Calculator\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Source Code\n        </a>\n      </p>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.css\";\nimport App from \"./App\";\nimport { AppProvider } from \"./Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// const initialState = {\r\n//   calculated: 0,\r\n//   currentNum: \"\",\r\n//   operator: null,\r\n// };\r\n\r\nconst reducer = (state, action) => {\r\n  const { calculated, currentNum, operator, encounteredError } = state;\r\n  try {\r\n    switch (action.type) {\r\n      //NUMBER CAPTURED\r\n      case \"NUMBER_CAPTURED\":\r\n        //prevents octal literal\r\n        if (action.payload === \"0\" && currentNum === \"\") {\r\n          return { ...state, currentNum: \"0\" };\r\n        } else if (action.payload === \"0\" && currentNum === \"0\") {\r\n          return { ...state };\r\n        } else if (action.payload !== \"0\" && currentNum === \"0\") {\r\n          return { ...state, currentNum: action.payload };\r\n        } else {\r\n          return { ...state, currentNum: currentNum + action.payload };\r\n        }\r\n\r\n      //BASIC OPERATOR CAPTURE CAPTURED [+-*/]\r\n      case \"BASIC_OPERATOR_CAPTURED\":\r\n        //if operator is changed consecutively\r\n        //__\r\n        //if operator is changed like this consecutively (* - + - /)\r\n        if (currentNum === \"-\") {\r\n          return { ...state, currentNum: \"\", operator: action.payload };\r\n        }\r\n        if (operator && !currentNum) {\r\n          //5 * -5 should output -25 and not zero.\r\n          if (action.payload === \"-\") {\r\n            return { ...state, currentNum: action.payload + currentNum };\r\n          }\r\n          return { ...state, operator: action.payload };\r\n        }\r\n\r\n        //evaluation of calculated\r\n        if (action.payload === \"X\") {\r\n          action.payload = \"*\";\r\n        }\r\n        if (action.payload === \"÷\") {\r\n          action.payload = \"/\";\r\n        }\r\n        //handles evaluation\r\n        return {\r\n          ...state,\r\n          currentNum: \"\",\r\n          calculated:\r\n            currentNum && operator\r\n              ? eval(`(${calculated}) ${operator} ${currentNum}`)\r\n              : !currentNum && calculated\r\n              ? calculated\r\n              : currentNum,\r\n          operator: action.payload,\r\n        };\r\n\r\n      // HANDLE EQUAL SIGN\r\n      case \"EQUAL_SIGN\":\r\n        if (!operator) {\r\n          return { ...state };\r\n        }\r\n\r\n        let evaluated = eval(\r\n          `(${calculated}) ${operator} ${currentNum}`\r\n        ).toString();\r\n\r\n        return {\r\n          ...state,\r\n          currentNum: evaluated,\r\n          operator: \"\",\r\n          calculated: evaluated,\r\n        };\r\n\r\n      //TOGGLE\r\n      case \"TOGGLE_POSITIVE_NEGATIVE\":\r\n        //toggle shouldn't change the status if currentNum is empty\r\n        if (currentNum && currentNum !== \"-\")\r\n          return { ...state, currentNum: currentNum * -1 };\r\n\r\n      //HANDLE ROOT\r\n      case \"ROOT\":\r\n        let squaredValue =\r\n          calculated === \"0\" || (calculated === \"\" && currentNum)\r\n            ? Math.sqrt(currentNum)\r\n            : calculated && !operator\r\n            ? Math.sqrt(calculated)\r\n            : Math.sqrt(eval(`(${calculated}) ${operator} ${currentNum}`));\r\n        return { ...state, calculated: squaredValue, currentNum: \"\" };\r\n\r\n      ////HANDLE DECIMAL\r\n      case \"DECIMAL_CAPTURED\":\r\n        if (!currentNum.includes(\".\")) {\r\n          if (currentNum === \"\") {\r\n            return { ...state, currentNum: \"0\" + currentNum + \".\" };\r\n          }\r\n          return { ...state, currentNum: currentNum + \".\" };\r\n        } else {\r\n          return { ...state };\r\n        }\r\n\r\n      //HANDLE BACKSPACE\r\n      case \"DELETE_LAST_ENTERED_VALUE\":\r\n        return { ...state, currentNum: currentNum.slice(0, -1) };\r\n\r\n      //HANDLE PERCENTAGE\r\n      case \"PERCENTAGE\":\r\n        //if prev calc is pending, it should be executed before calcing perc val\r\n\r\n        let percentageVal =\r\n          (calculated === \"0\" || calculated === \"\") && currentNum\r\n            ? currentNum / 100\r\n            : calculated && !operator\r\n            ? calculated / 100\r\n            : eval(`(${calculated}) ${operator} ${currentNum}`) / 100;\r\n\r\n        return {\r\n          ...state,\r\n          currentNum: percentageVal,\r\n          calculated: percentageVal,\r\n          operator: \"\",\r\n        };\r\n\r\n      //CLEAR DISPLAY\r\n      case \"CLEAR_DISPLAY\":\r\n        return {\r\n          ...state,\r\n          calculated: \"0\",\r\n          currentNum: \"\",\r\n          operator: \"\",\r\n          encounteredError: false,\r\n        };\r\n\r\n      // HANDLE POWER BUTTON\r\n      case \"POWER\":\r\n        // if (operator === \"**\") {\r\n        //   let evaluated = eval(\r\n        //     `${calculated} ${operator} ${currentNum}`\r\n        //   );\r\n        //   console.log(\"this\");\r\n        //   return { ...state, currentNum: \"\", calculated: evaluated };\r\n        // }\r\n\r\n        if (currentNum && operator && calculated) {\r\n          let evaluated = eval(`(${calculated}) ${operator} ${currentNum}`);\r\n\r\n          return {\r\n            ...state,\r\n            currentNum: \"\",\r\n            calculated: evaluated,\r\n            operator: \"**\",\r\n          };\r\n        }\r\n\r\n        return {\r\n          ...state,\r\n          operator: \"**\",\r\n          currentNum: \"\",\r\n          calculated: currentNum,\r\n        };\r\n\r\n      //default value => return state value as it is\r\n      default:\r\n        return state;\r\n\r\n      //SWITCH ENDS HERE\r\n    }\r\n\r\n    //Try Ends Here\r\n  } catch (error) {\r\n    return {\r\n      ...state,\r\n      encounteredError: true,\r\n    };\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"],"sourceRoot":""}